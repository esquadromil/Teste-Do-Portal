<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Portal Esquadromil</title>
<style>
:root {
  --azul: #1B2F91;
  --vermelho: #FF2B2B;
  --branco: #FFFFFF;
  --bg-dark: #0b165a;
  --glow-azul: rgba(27, 47, 145, 0.6);
  --glow-vermelho: rgba(255, 43, 43, 0.6);
  --transition: all 0.25s ease;
  --card: rgba(0,0,0,0.5);
}
* { box-sizing: border-box; margin:0; padding:0; }
body {
  font-family:"Segoe UI", Arial, sans-serif;
  color: var(--branco);
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
  background: url('fachada.jpg') center/cover no-repeat;
}
#intro {
  position: fixed; top:0; left:0; width:100%; height:100vh;
  background: rgba(11,22,90,0.85);
  display:flex; justify-content:center; align-items:center; flex-direction:column;
  z-index:10; animation: fadeOutIntro 1s ease 3.5s forwards;
}
#intro img { width:200px; animation: logoGrow 3s ease forwards; }
@keyframes logoGrow { 0%{transform:scale(0.5);opacity:0;}50%{transform:scale(0.8);opacity:0.7;}100%{transform:scale(1);opacity:1;} }
@keyframes fadeOutIntro { to{opacity:0;visibility:hidden;} }
header {
  position: fixed; top:0; width:100%; padding:12px 0;
  text-align:center; background: rgba(0,0,0,0.5);
  backdrop-filter: blur(4px); z-index:5;
}
header img { height:60px; transition: transform 0.3s; }
header img:hover { transform: scale(1.05); }

.container {
  padding-top:100px;
  display:flex;
  justify-content:center;
  align-items:center;
  width:100%;
}

.card {
  width:95%;
  max-width:1000px;
  border-radius:18px;
  background: var(--card);
  box-shadow: 0 12px 35px rgba(0,0,0,0.45);
  padding:28px;
  margin:20px;
}

.header-row {
  display:flex;
  align-items:center;
  gap:18px;
}
.header-row img.logo {
  width:72px;
  height:auto;
  border-radius:8px;
  background:rgba(255,255,255,0.05);
  padding:6px;
}
.title-block { flex:1; text-align:left; }
.title-block h1 { font-size:1.6rem; margin-bottom:4px; }
.title-block p { margin:0; color: rgba(255,255,255,0.9); }

.sections {
  display:flex;
  gap:18px;
  margin-top:20px;
  flex-wrap:wrap;
}
.section {
  flex:1 1 300px;
  background: rgba(255,255,255,0.06);
  border-radius:12px;
  padding:18px;
  min-width:260px;
}
.section h2 {
  font-size:1.05rem;
  margin:0 0 12px 0;
  display:flex; align-items:center; gap:10px;
  color:var(--branco);
}
.section .desc { color:rgba(255,255,255,0.85); font-size:0.9rem; margin-bottom:12px; }

.btn-grid {
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}
.app-btn {
  background:var(--branco);
  color:var(--azul);
  border:none;
  border-radius:10px;
  padding:12px 12px;
  font-weight:700;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  box-shadow:0 8px 20px rgba(0,0,0,0.25);
  transition: transform .18s ease, background .18s ease, color .18s ease;
}
.app-btn:hover { transform:translateY(-4px); background:var(--vermelho); color:var(--branco); }

.app-btn .tag {
  background:var(--azul);
  color:var(--branco);
  padding:4px 8px;
  border-radius:8px;
  font-size:0.75rem;
}

.card-footer {
  margin-top:18px;
  text-align:center;
  color:rgba(255,255,255,0.75);
  font-size:0.9rem;
}

@media(max-width:900px){
  .btn-grid { grid-template-columns:1fr; }
  .header-row { flex-direction:row; }
  .title-block { text-align:center; }
}
@media(max-width:560px){
  .header-row img.logo{width:56px;}
  .title-block h1{font-size:1.2rem;}
  .card{padding:16px;}
  .sections{flex-direction:column;}
}

/* Forms */
.form-container { display:none; padding:20px; }
.form-container .panel { background: rgba(0,0,0,0.6); padding:20px; border-radius:12px; color:#fff; max-width:700px; margin:auto; }
.form-grid { display:grid; grid-template-columns:1fr 1fr; gap:12px; }
.form-grid .full { grid-column:1/-1; }
.hidden { display:none; }
input, select, textarea { width:100%; padding:8px; border-radius:6px; border:none; outline:none; }
button { cursor:pointer; }
.voltar-btn { background:#333; color:#fff; padding:8px 12px; margin-top:10px; border-radius:6px; }

/* Scanner video */
#video { width:100%; max-width:400px; border-radius:12px; margin-bottom:12px; }
#history { list-style:none; padding-left:0; max-height:200px; overflow-y:auto; }
.thumbs { display:flex; flex-wrap:wrap; gap:8px; margin-top:10px; }
.thumbs .thumb { position:relative; display:inline-block; }
.thumbs .thumb img { width:100px; height:auto; border-radius:6px; }
.thumbs .thumb .remove { position:absolute; top:2px; right:2px; background:red; color:white; border-radius:50%; width:18px; height:18px; text-align:center; font-size:12px; line-height:18px; cursor:pointer; }

</style>
</head>
<body>

<div id="intro"><img src="logobranca.png" alt="Logo Esquadromil"></div>
<header><img src="logocolorida.png" alt="Logo Esquadromil"></header>

<div class="container">
  <div class="card">
    <div class="header-row">
      <img class="logo" src="logobranca.png" alt="Esquadromil">
      <div class="title-block">
        <h1>Portal Esquadromil</h1>
        <p class="slogan">Sistema de suporte e comunica√ß√£o ‚Äî tecnologia que conecta</p>
      </div>
    </div>

    <div class="sections">
      <div class="section" id="sistemasSection">
        <h2>üîß Sistemas</h2>
        <div class="desc">Acesse os sistemas internos da empresa.</div>
        <div class="btn-grid">
          <button class="app-btn" id="btnChamado"><span>üíª</span> Chamado TI <div class="tag">Chamado</div></button>
          <button class="app-btn" id="btnGuarita"><span>üõ°Ô∏è</span> Agendamento Guarita <div class="tag">Guarita</div></button>
        </div>
      </div>

      <div class="section" id="aplicacoesSection">
        <h2>üß© Aplica√ß√µes</h2>
        <div class="desc">Ferramentas e utilit√°rios r√°pidos para o dia a dia.</div>
        <div class="btn-grid">
          <button class="app-btn" id="btnScanner"><span>üì∑</span> Scanner QR <div class="tag">Scanner</div></button>
          <button class="app-btn" id="btnQRGen"><span>üîñ</span> Gerador QR <div class="tag">QR</div></button>
          <button class="app-btn" id="btnPDF" style="grid-column:1/-1;"><span>üìÑ</span> Digitalizar ‚Üí PDF <div class="tag">PDF</div></button>
        </div>
      </div>
    </div>

    <div class="card-footer">
      ¬© 2025 Esquadromil ‚Äî Mantido o funcionamento original dos sistemas.
    </div>
  </div>
</div>

<!-- === CHAMADO TI === -->
<div id="formChamado" class="form-container">
  <div class="panel">
    <form id="form">
      <h2>TI - Abertura de Chamados</h2>
      <div class="form-grid">
        <div><label for="nome">Nome:</label><input type="text" name="nome" id="nome" required/></div>
        <div>
          <label for="setor">Setor:</label>
          <select name="setor" id="setor" required>
            <option value="">Selecione</option><option>TI</option><option>Produ√ß√£o</option><option>Financeiro</option>
            <option>Processos</option><option>Compras</option><option>RH</option><option>DP</option>
            <option>Contabilidade</option><option>Comercial</option><option>Televendas</option><option>Log√≠stica</option>
            <option>Marketing</option><option>Diretoria</option>
          </select>
        </div>
        <div class="full">
          <label for="problema">Tipo de Problema:</label>
          <select name="problema" id="problema" required>
            <option value="">Selecione</option>
            <option>Falha de impress√£o</option><option>Impressora travada</option><option>Abertura de tabela de pre√ßo</option>
            <option>Precifica√ß√£o de produtos</option><option>Computador travando/lento</option><option>Problemas de rede</option>
            <option>Sistema indispon√≠vel</option><option>Cadastro RCA</option><option>Erro Transmiss√£o NFE</option>
            <option>Troca Toner Impressora</option><option>Solicitar Perif√©ricos (fones,mouse)</option><option>Outros</option>
          </select>
        </div>
        <div id="outro-problema" class="hidden full">
          <label for="outro">Descreva o problema:</label><textarea name="outro" id="outro" rows="4"></textarea>
        </div>
        <div>
          <label for="urgencia">Urg√™ncia:</label>
          <select name="urgencia" id="urgencia" required>
            <option value="">Selecione</option><option>Baixa</option><option>M√©dia</option><option>Alta</option>
          </select>
        </div>
      </div>
      <button type="submit">Enviar Chamado</button>
      <div id="mensagem"></div>
    </form>
    <div style="text-align:center;"><button class="voltar-btn" onclick="voltarMenu()">‚¨Ö Voltar</button></div>
  </div>
</div>

<!-- === AGENDAMENTO GUARITA === -->
<div id="formGuarita" class="form-container">
  <div class="panel">
    <form id="guaritaForm">
      <h2>Agendamento Guarita</h2>
      <div class="form-grid">
        <div><label for="nomeG">Nome:</label><input type="text" id="nomeG" required></div>
        <div><label for="empresaG">Empresa:</label><input type="text" id="empresaG" required></div>
        <div><label for="setorG">Setor:</label><input type="text" id="setorG" required></div>
        <div><label for="horarioG">Hor√°rio:</label><input type="time" id="horarioG" required></div>
      </div>
      <button type="submit">Agendar</button>
    </form>
    <div style="text-align:center;"><button class="voltar-btn" onclick="voltarMenu()">‚¨Ö Voltar</button></div>
  </div>
</div>

<!-- === SCANNER QR === -->
<div id="scannerForm" class="form-container">
  <div class="panel">
    <h2>Scanner QR</h2>
    <video id="video"></video>
    <ul id="history"></ul>
    <div class="thumbs" id="thumbs"></div>
    <div style="text-align:center;"><button class="voltar-btn" onclick="voltarMenu()">‚¨Ö Voltar</button></div>
  </div>
</div>

<!-- === GERADOR QR === -->
<div id="qrForm" class="form-container">
  <div class="panel">
    <h2>Gerador QR</h2>
    <input type="text" id="textQR" placeholder="Texto ou URL"/>
    <button onclick="gerarQR()">Gerar QR</button>
    <div id="qrcode"></div>
    <div style="text-align:center;"><button class="voltar-btn" onclick="voltarMenu()">‚¨Ö Voltar</button></div>
  </div>
</div>

<!-- === DIGITALIZAR ‚Üí PDF === -->
<div id="pdfForm" class="form-container">
  <div class="panel">
    <h2>Digitalizar ‚Üí PDF</h2>
    <input type="file" id="pdfFiles" accept="image/*" multiple/>
    <button onclick="gerarPDF()">Gerar PDF</button>
    <div style="text-align:center;"><button class="voltar-btn" onclick="voltarMenu()">‚¨Ö Voltar</button></div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@zxing/library@0.18.6/umd/index.min.js"></script>
<script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
// ======= MENU =======
const btnChamado = document.getElementById('btnChamado');
const btnGuarita = document.getElementById('btnGuarita');
const btnScanner = document.getElementById('btnScanner');
const btnQRGen = document.getElementById('btnQRGen');
const btnPDF = document.getElementById('btnPDF');

function mostrarForm(formId){
  document.querySelectorAll('.form-container').forEach(f => f.style.display='none');
  document.getElementById(formId).style.display='block';
}
function voltarMenu(){ document.querySelectorAll('.form-container').forEach(f => f.style.display='none'); }

btnChamado.onclick = ()=>mostrarForm('formChamado');
btnGuarita.onclick = ()=>mostrarForm('formGuarita');
btnScanner.onclick = ()=>mostrarForm('scannerForm');
btnQRGen.onclick = ()=>mostrarForm('qrForm');
btnPDF.onclick = ()=>mostrarForm('pdfForm');

// ======= CHAMADO =======
document.getElementById('problema').addEventListener('change', function(){
  if(this.value === 'Outros') document.getElementById('outro-problema').classList.remove('hidden');
  else document.getElementById('outro-problema').classList.add('hidden');
});
document.getElementById('form').addEventListener('submit', function(e){
  e.preventDefault();
  document.getElementById('mensagem').innerText='Chamado enviado!';
  this.reset();
});

// ======= GUARITA =======
document.getElementById('guaritaForm').addEventListener('submit', function(e){
  e.preventDefault();
  alert('Agendamento realizado!');
  this.reset();
});

// ======= SCANNER QR =======
let selectedDeviceId;
const codeReader = new ZXing.BrowserQRCodeReader();
const videoElement = document.getElementById('video');
codeReader.getVideoInputDevices().then(videoInputDevices => {
  if(videoInputDevices.length>0){ selectedDeviceId=videoInputDevices[0].deviceId;
    codeReader.decodeFromVideoDevice(selectedDeviceId, videoElement, (result, err)=>{
      if(result){ const li=document.createElement('li'); li.textContent=result.text; document.getElementById('history').prepend(li); }
    });
  }
});

// ======= GERADOR QR =======
function gerarQR(){
  document.getElementById('qrcode').innerHTML='';
  const qrText=document.getElementById('textQR').value;
  if(qrText) new QRCode(document.getElementById('qrcode'), { text:qrText, width:200, height:200 });
}

// ======= PDF =======
function gerarPDF(){
  const files=document.getElementById('pdfFiles').files;
  if(files.length===0) return alert('Selecione imagens');
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();
  Array.from(files).forEach((file,i)=>{
    const img=new Image();
    const reader=new FileReader();
    reader.onload = e=>{
      img.src=e.target.result;
      img.onload=()=>{ 
        const w=doc.internal.pageSize.getWidth();
        const h=doc.internal.pageSize.getHeight();
        doc.addImage(img,'JPEG',0,0,w,h);
        if(i<files.length-1) doc.addPage();
        if(i===files.length-1) doc.save('documento.pdf');
      }
    };
    reader.readAsDataURL(file);
  });
}
</script>
</body>
</html>
